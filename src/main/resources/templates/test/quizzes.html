<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Test Quizzes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
    <h1>ðŸ§ª Test Quizzes Page</h1>

    <div th:if="${error}" class="alert alert-danger">
        <strong>Error:</strong> <span th:text="${error}"></span>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    All Quizzes (Total: <span th:text="${allQuizzes != null ? allQuizzes.size() : 0}">0</span>)
                </div>
                <div class="card-body">
                    <div th:if="${allQuizzes != null and !allQuizzes.empty}">
                        <div th:each="quiz : ${allQuizzes}" class="mb-3 p-2 border rounded">
                            <h6 th:text="${quiz.title}">Title</h6>
                            <small class="text-muted">
                                ID: <span th:text="${quiz.id}"></span> |
                                Enabled: <span th:text="${quiz.enabled}"></span> |
                                Public: <span th:text="${quiz.isPublic}"></span> |
                                Questions: <span th:text="${quiz.questionCount}"></span>
                            </small>
                        </div>
                    </div>
                    <div th:if="${allQuizzes == null or allQuizzes.empty}" class="text-muted">
                        No quizzes found in database.
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-success text-white">
                    Public Quizzes (Total: <span th:text="${publicQuizzes != null ? publicQuizzes.size() : 0}">0</span>)
                </div>
                <div class="card-body">
                    <div th:if="${publicQuizzes != null and !publicQuizzes.empty}">
                        <div th:each="quiz : ${publicQuizzes}" class="mb-3 p-2 border rounded">
                            <h6 th:text="${quiz.title}">Title</h6>
                            <small class="text-muted">
                                Questions: <span th:text="${quiz.questionCount}"></span> |
                                Time: <span th:text="${quiz.timeLimit}"></span> min
                            </small>
                            <br>
                            <a th:href="@{/attempt/start/{id}(id=${quiz.id})}" class="btn btn-sm btn-primary mt-1">Take Quiz</a>
                        </div>
                    </div>
                    <div th:if="${publicQuizzes == null or publicQuizzes.empty}" class="text-muted">
                        No public quizzes available.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-3">
        <a th:href="@{/quiz/list}" class="btn btn-secondary">Go to Quiz List</a>
        <a th:href="@{/dashboard}" class="btn btn-primary">Go to Dashboard</a>
    </div>
</div>
</body>
</html>